<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>Roboreactor Profile </title>
  <link rel="icon" type="image/svg" href="../static/images/favicon.ico"><!-- HEAD_svelte-1bqi44g_END --><!-- HEAD_svelte-1q0x54r_START --><!-- HEAD_svelte-1q0x54r_END -->

  <!--Write the parameters input for the current data input -->
  <input type="hidden" id="datauser" value="{{userdata}}"> 
  <input type="hidden" id="encoded_arg" value="{{encodeuser}}">
  <input type="hidden" id="email_data" value="{{ account_email }}">

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css">
<link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css'>
<link rel='stylesheet' href='//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css'>
<!--<link rel='stylesheet' href='//cdnjs.cloudflare.com/ajax/libs/morris.js/0.5.1/morris.css'>-->
<link rel="stylesheet" href="/static/dash_style.css">
<link rel='stylesheet' href='//static.jstree.com/3.2.1/assets/dist/themes/default/style.min.css'>
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<script src="https://unpkg.com/dayjs@1.8.21/dayjs.min.js"></script>
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/d3/3.3.10/d3.min.js"></script>
<link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css'>
<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js'></script>
<link rel="stylesheet" href="../static/style5.css">
<link rel="stylesheet" href="../static/style6.css">
</head>
<style>
  body {font-family: Arial, Helvetica, sans-serif;}
  
  /* The Modal (background) */
  .modal {
    display: none; /* Hidden by default */
    position: fixed; /* Stay in place */
    z-index: 1; /* Sit on top */
    padding-top: 100px; /* Location of the box */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    overflow: auto; /* Enable scroll if needed */
    background-color: rgb(0,0,0); /* Fallback color */
    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
  }
  
  /* Modal Content */
  .modal-content {
    background-color: #fefefe;
    margin: auto;
    padding: 20px;
    border: 1px solid #888;
    width: 80%;
  }
  
  /* The Close Button */
  .close {
    color: #aaaaaa;
    float: right;
    font-size: 28px;
    font-weight: bold;
  }
  
  .close:hover,
  .close:focus {
    color: #000;
    text-decoration: none;
    cursor: pointer;
  }
  h1 {
   font-size: 20px;
   text-align: center;
   margin: 20px 0 20px;
 }
 h1 small {
   display: block;
   font-size: 15px;
   padding-top: 8px;
   color: gray;
 }
 .avatar-upload {
   position: relative;
   max-width: 205px;
   margin: 50px auto;
 }
 .avatar-upload .avatar-edit {
   position: absolute;
   right: 12px;
   z-index: 1;
   top: 10px;
 }
 .avatar-upload .avatar-edit input {
   display: none;
 }
 .avatar-upload .avatar-edit input + label {
   display: inline-block;
   width: 34px;
   height: 34px;
   margin-bottom: 0;
   border-radius: 100%;
   background: #FFFFFF;
   border: 1px solid transparent;
   box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 0.12);
   cursor: pointer;
   font-weight: normal;
   transition: all 0.2s ease-in-out;
 }
 .avatar-upload .avatar-edit input + label:hover {
   background: #f1f1f1;
   border-color: #d6d6d6;
 }
 .avatar-upload .avatar-edit input + label:after {
   content: "\f040";
   font-family: 'FontAwesome';
   color: #757575;
   position: absolute;
   top: 10px;
   left: 0;
   right: 0;
   text-align: center;
   margin: auto;
 }
 .avatar-upload .avatar-preview {
   width: 192px;
   height: 192px;
   position: relative;
   border-radius: 100%;
   border: 6px solid #F8F8F8;
   box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 0.1);
 }
 .avatar-upload .avatar-preview > div {
   width: 100%;
   height: 100%;
   border-radius: 100%;
   background-size: cover;
   background-repeat: no-repeat;
   background-position: center;
 }
 

  </style>
  <style>
    /* Dropdown menu css */
.dropdown-container {
  position: relative;
  max-width: 240px;
}
.dropdown-container .dropdown-toggle {
  color: #000000;
  background-color: #ffffff;
  font-size: 17px;
  padding: 18px 20px;
  box-shadow: 0px 0px 4px -2px rgba(0, 0, 0, 0.5);
  border-radius: 10px;
  font-weight: 600;
  cursor: pointer;
  position: relative;
  transition: all ease-in-out 0.3s;
}
.dropdown-container .dropdown-toggle label {
  cursor: pointer;
  width: 100%;
}
.dropdown-container .dropdown-toggle:hover, .dropdown-container .dropdown-toggle:active, .dropdown-container .dropdown-toggle:focus {
  background-color: #0979ce;
  color: #ffffff;
}
.dropdown-container .dropdown-menu {
  width: 100%;
  border-radius: 10px;
  box-shadow: 0px 0px 4px -2px rgba(0, 0, 0, 0.5);
  margin-top: 17px;
  position: absolute;
  left: 0;
  top: 100%;
  display: none;
  background-color: #ffffff;
  z-index: 10;
}
.dropdown-container .dropdown-menu ul {
  list-style: none;
  padding: 0;
  margin: 0;
  overflow: hidden;
  border-radius: 10px;
  z-index: 10;
}
.dropdown-container .dropdown-menu a {
  text-decoration: none;
  display: block;
  color: #000000;
  font-size: 15px;
  padding: 16px 20px;
  font-weight: 600;
  box-shadow: 0px 0px 4px -2px rgba(0, 0, 0, 0.5);
  transition: all ease-in-out 0.3s;
}
.dropdown-container .dropdown-menu a:hover, .dropdown-container .dropdown-menu a:active, .dropdown-container .dropdown-menu a:focus {
  background-color: #0979ce;
  color: #ffffff;
}

.dropdown-menu,
.dropdown-toggle {
  position: relative;
}
.dropdown-menu::before,
.dropdown-toggle::before {
  content: "";
  position: absolute;
  right: 20px;
  top: 50%;
  transform: translateY(-50%) rotate(45deg);
  border: 5px solid;
  border-top-color: rgba(0, 0, 0, 0);
  border-left-color: rgba(0, 0, 0, 0);
  margin-top: -2.5px;
  background-color: rgba(0, 0, 0, 0);
  transition: all ease-in-out 0.2s;
}

.dropdown-menu {
  z-index: 10;
  position: relative;
}
.dropdown-menu::before {
  z-index: -1;
  transform: rotate(-135deg);
  top: -4px;
  border-color: #ffffff;
  box-shadow: 1px 1px 4px -2px rgba(0, 0, 0, 0.4);
}

.dropdown-open .dropdown-menu.dropdown-active {
  display: block;
}

.dropdown-container.dropdown-open .dropdown-toggle {
  background-color: #0979ce;
  color: #ffffff;
}
.dropdown-container.dropdown-open .dropdown-toggle:before {
  transform: rotate(-135deg);
}

.dropdown-bordered .dropdown-toggle {
  border: 2px solid #000000;
  border-radius: 10px;
}
.dropdown-bordered .dropdown-toggle:hover, .dropdown-bordered .dropdown-toggle:active, .dropdown-bordered .dropdown-toggle:focus {
  background-color: #0979ce;
  color: #ffffff;
  border-color: #ffffff;
}
.dropdown-bordered .dropdown-menu {
  border: 2px solid #000000;
  border-radius: 10px;
}
.dropdown-bordered .dropdown-menu::before {
  border-color: #000000;
}
.dropdown-bordered .dropdown-menu a {
  box-shadow: none;
  border-bottom: 2px solid #000000;
}
.dropdown-bordered .dropdown-menu li:last-child a {
  border-bottom: 0;
}

.dropdown-gradient .dropdown-toggle,
.dropdown-gradient .dropdown-menu,
.dropdown-gradient a {
  background: #ff3131;
  background: -moz-linear-gradient(262deg, #ff3131 11%, #5400ff 100%);
  background: -webkit-linear-gradient(262deg, #ff3131 11%, #5400ff 100%);
  background: linear-gradient(262deg, #ff3131 11%, #5400ff 100%);
  filter: progid:DXImageTransform.Microsoft.gradient(startColorstr="#ff3131",endColorstr="#5400ff",GradientType=1);
  color: #ffffff;
}
.dropdown-gradient .dropdown-toggle::before {
  color: #ffffff;
}
.dropdown-gradient .dropdown-menu a {
  background: none;
  box-shadow: none;
  color: #ffffff;
}
.dropdown-gradient .dropdown-menu a:hover, .dropdown-gradient .dropdown-menu a:active, .dropdown-gradient .dropdown-menu a:focus {
  background: #ff3131;
  background: -moz-linear-gradient(66deg, #ff3131 11%, #5400ff 100%);
  background: -webkit-linear-gradient(66deg, #ff3131 11%, #5400ff 100%);
  background: linear-gradient(66deg, #ff3131 11%, #5400ff 100%);
  filter: progid:DXImageTransform.Microsoft.gradient(startColorstr="#ff3131",endColorstr="#5400ff",GradientType=1);
}
.dropdown-gradient .dropdown-menu::before {
  box-shadow: none;
  border-color: #ff3131;
}

.dropdown-solid .dropdown-toggle,
.dropdown-solid .dropdown-menu {
  background-color: #0979CE;
  color: #ffffff;
}
.dropdown-solid .dropdown-menu a {
  color: #ffffff;
}
.dropdown-solid .dropdown-menu a:hover, .dropdown-solid .dropdown-menu a:active, .dropdown-solid .dropdown-menu a:focus {
  background-color: #ffffff;
  color: #000000;
}
.dropdown-solid .dropdown-menu::before {
  border-color: #0979CE;
}
  </style>
  
<!--Node color and style -->  
<style>
 .node {
  cursor: pointer;
}

.node circle {
  fill: #fff;
  stroke: steelblue;
  stroke-width: 1.5px;
}

.node text {
  font: 10px sans-serif;
}

.link {
  fill: none;
  stroke: #ccc;
  stroke-width: 1.5px;
}   

</style>
<body>
<!-- partial:index.partial.html -->
<section>
  <header>
    <nav class="rad-navigation">
      <div class="rad-logo-container">
        <a href="#" class="rad-logo">Roboreactor</a>
        <a href="#" class="rad-toggle-btn pull-right"><i class="fa fa-bars"></i></a>
      </div>
      <!--
      <div class="rad-top-nav-container">
        <ul class="links">
          <li>
            <a class="rad-menu-item" href="#"><i class="fa fa-comment-o"></i></a>
          </li>
          <li class="rad-dropdown"><a class="rad-menu-item" href="#"><i class="fa fa-envelope-o"><span class="rad-menu-badge">3</span></i></a>
            <ul class="rad-dropmenu-item">
              <li class="rad-dropmenu-header"><a href="#">Your Notifications</a></li>
              <li class="rad-notification-item">
                <a class="rad-notification-content" href="#">

                </a>
              </li>
              <li class="rad-dropmenu-footer"><a href="#">See all notifications</a></li>
            </ul>
          </li>
          <li class="rad-dropdown"><a class="rad-menu-item" href="#"><i class="fa fa-bell-o"><span class="rad-menu-badge">49</span></i></a>
            <ul class="rad-dropmenu-item">
              <li class="rad-dropmenu-header"><a href="#">Your Alerts</a></li>
              <li class="rad-notification-item">
                <a class="rad-notification-content" href="#">
                </a>
              </li>
              <li class="rad-dropmenu-footer"><a href="#">See all alerts</a></li>
            </ul>
          </li>
        </ul>
      </div>-->
    </nav>
  </header>
</section>
<aside>
  <nav class="rad-sidebar">
    <ul>
      <li>
        <a onclick="dashboardsensor();" class="inbox">
          <i class="fa fa-dashboard"><span class="icon-bg rad-bg-success"></span></i>
          <span class="rad-sidebar-item">Sensor dashboard</span>
        </a>
      </li>
      <li>
        <a onclick="API_key_auth();">
          <i class="fa fa-key">
						<span class="icon-bg rad-bg-danger"></span>
					</i>
          <span class="rad-sidebar-item">API keys</span>
        </a>
        
      </li>
      
      <li><a onclick="Codegendat();" class="done"><i class="fa fa-code"><span class="icon-bg rad-bg-warning"></span></i><span class="rad-sidebar-item">Code Generator</span></a></li>
            <li><a onclick="navigation_system();" class="snooz"><i class="fa fa-compass"><span class="icon-bg rad-bg-primary"></span></i><span class="rad-sidebar-item">Navigation systems</span></a></li>
            <li><a onclick="motion_controller_dash();" class="done"><i class="fa fa-gamepad"><span class="icon-bg rad-bg-warning"></span></i><span class="rad-sidebar-item">Motion controller</span></a></li>
            <li><a onclick="manufacturing_account_dash();" class="done"><i class="fa fa-gear"><span class="icon-bg rad-bg-warning"></span></i><span class="rad-sidebar-item">Manufacturing AAI</span></a></li>
            <li><a onclick="settings_dash();"><i class="fa fa-wrench"><span class="icon-bg rad-bg-violet"></span></i><span class="rad-sidebar-item">Settings</span></a></li>
            <li><a href="/signin" class="done"><i class="fa fa-arrow-left"><span class="icon-bg rad-bg-violet"></span></i><span class="rad-sidebar-item">Logout</span></a></li>

    </ul>
  </nav>
</aside>
<script src='//cdnjs.cloudflare.com/ajax/libs/jquery/1.10.2/jquery.min.js'></script>
<script src='//static.jstree.com/3.2.1/assets/dist/jstree.js'></script>
<main>
  <section>
    <div class="rad-body-wrapper">
      <div class="container-fluid">
        <div class="row">

 
     <div class="col-lg-4 col-md-6 col-xs-12">
      <div class="panel panel-default">
        <div class="panel-heading">
          <h3 class="panel-title">Edit your profile</h3>
        </div>
        <div class="panel-body">
             <div id="bubbleplots">
              <div class="avatar-upload" >
                <!--
                <div class="avatar-edit">
                    <input type='file' id="imageUpload" accept=".png, .jpg, .jpeg" />
                    <label for="imageUpload"></label>
                </div>
                
                <div class="avatar-preview">
                    <div id="imagePreview" style="background-image: url('');">
                    </div>
                </div> -->
                <div class="avatar-edit">
                  <input type='file' id="imageUpload" accept=".png, .jpg, .jpeg" />
                  <label for="imageUpload"></label>
              </div>
              <div class="avatar-preview">
                  <div id="imagePreview" style="background-image: url('{{ image_url }}');">
                  </div>
              </div>
                <!--Get the input from the text input and fetch data back from javascript to backend python instead-->
                <h> First name </h>
                <input  class="form-control addMain" type="text" tabindex="0" id="firstname" name="firstname" placeholder="Your firstname"> 
                <h> Last name </h>
                <input  class="form-control addMain"  type="text" tabindex="0" id="lastname" placeholder="Your lastname"> 
                <h> E-mail</h>
                <input   class="form-control addMain" type="text" tabindex="0" id="email" placeholder="Your email" > 
                <h> Password</h>
                <input   class="form-control addMain" type="password" tabindex="0" id="password" placeholder="Your password">
                <h> Address</h>
                <input  class="form-control addMain" type="text" tabindex="0" id="address" placeholder="Your address">
                
        
                <ul>
                  <li><input  type="checkbox" onclick="myFunction()"> Show Password</li>
                </ul> 
                <ul>
                  <button type="submit" onclick="save_edited_data();" class="btn btn-primary btn-block btn-sm"> Save edit</button> <!--Save the data of the edited profile -->
                </ul>
              </div>
              
                   
            </div>
         </div>
         </div>
       </div>  
      </div>
      </div>
      <!--
      <div class="col-lg-4 col-md-6 col-xs-12">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Select your project</h3>
          </div>
          <div class="panel-body">
               
               <div class="bubbleplot" data-num="8">
                

                <select  id="selectProject">   
                <option>Choose project</option>
               
           </select>
      
         <div id="node_project"></div>
        </div>
      </div>
    </div>
  </div>
-->

 <!--
  <div class="col-lg-4 col-md-6 col-xs-12">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title"><i class="fa fa-microship">Microcontroller config</i></h3>
          </div>
          <div class="panel-body">

               <div class="bubbleplot" data-num="8">


                <select  id="selectProject">
                <option>Choose mcus</option>

           </select>
        
         <div id="mcus_dat"></div>
           
        </div>
      </div>
    </div>
  </div>
-->      
      


     </div>
    </div>
    </div>
  </section>
</main>
<!-- partial -->
  <script src='//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
<script src='//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js'></script>
<script src='//cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.2/jquery-ui.min.js'></script>
<script src='//cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js'></script>
<!--<script src='//cdnjs.cloudflare.com/ajax/libs/morris.js/0.5.1/morris.min.js'></script>-->
<script  src="/static/script_dash.js"></script>

<script type="text/javascript">
    var user_account = document.getElementById('datauser').value; 
    console.log(user_account) // Using the email to extract the list of the selected project from the settings function 
    var user_encode = document.getElementById('encoded_arg').value; 
    console.log(user_encode);
    var id_generate_project = []; //Store the id project generated 
    var project_order = {}; 
    var data_trans;
    retrive_customer();
    /*
    var select = document.getElementById("selectProject");
    var options = [];
    options.push("Non-select");
    for(var i = 0; i < options.length+1; i++) {
         var opt = options[i];
         var el = document.createElement("option");
         el.textContent = opt;
         el.value = opt;
         select.appendChild(el);
    }
    console.log("Option list: ",options); 
    select.addEventListener("change", function () {
    var selectedValue = select.value;
    console.log("Selected value: " + selectedValue);
    // Change the real-time data response to the robot connected into the platform 
    if(selectedValue != 'Non-select'){
               //Send the data to the back-end
               //Get the current project name send to the back-end in json data  
                // POST
                fetch('/total_projectfeatures')
    .then(function (response) {
        return response.text();
    }).then(function (text1) {
        console.log('GET response text:');
        var data_classification = JSON.parse(text1); // Print the greeting as text
        console.log(data_classification);
        console.log('current email',user_account);
        project_items = data_classification[user_account]; 
        console.log('items list2',project_items);
         // Getting the generated list of the json project  
       
    });
              fetch('/current_project', {
                 // Declare what type of data we're sending
                headers: { 
                       'Content-Type': 'application/json'
               },
              // Specify the method
              method: 'POST', 
             // A JSON payload
             body: JSON.stringify({
                     "email":user_account,"project_name":selectedValue
             })
             }).then(function (response) { // At this point, Flask has printed our JSON
             return response.text();
             }).then(function (text) {
             console.log('POST response: ');
             // Should be 'OK' if everything was successful         
             console.log(text);
             //console.log(project_order[selectedValue]); 
             notify_data(text);
             //Running the function of the node generator function here 
             //var pubs = project_order[selectedValue];  //Getting the json value reorder function 
             
             //project_node_view_tree(node_gen_features(pubs));
            });

    }

    //Fetch the data of the project category at the back-end 
    var data_trans;
    delete options[0];
    if(selectedValue == 'Non-select'){
    fetch('/total_projectfeatures')
    .then(function (response) {
        return response.text();
    }).then(function (text) {
        console.log('GET response text:');
        var data_classification = JSON.parse(text); // Print the greeting as text
        console.log(data_classification);
        console.log('current email',user_account);
        project_items = data_classification[user_account]; 
        console.log('items list',project_items);
         // Getting the generated list of the json project  
       
        try{
              console.log("Total_project_data: ",project_items)
              //id_generate_project.push({"id":String(project_items['category'][wr]['title']),"parent":"#","text":String(project_items['category'][wr]["title"])});
              var rft = 0;
              for(rft >=0; rft<=Object.keys(project_items).length;rft++){
                 console.log("Project_data: ",Object.keys(project_items)[rft]);                
                 if(options.includes(Object.keys(project_items)[rft]) != true){
                       var opt = options[rft];
                       var el = document.createElement("option");
                       el.textContent = opt;
                       el.value = opt;
                       select.appendChild(el);
                       options.push(Object.keys(project_items)[rft]);
                       
                   }
                
                       
            }
          }
             
            
         catch(err){
              console.log("Out of range");
         }
         

      });
    }
    });
*/
    function retrive_customer(){
            //Retrive the data 
            fetch('/retrieve_customer_data', {
                // Declare what type of data we're sending
                headers: {
                  'Content-Type': 'application/json'
                },
               // Specify the method
               method: 'POST',
                // A JSON payload
               body: JSON.stringify({
                              "Email": user_encode
              })
              }).then(function (response) { // At this point, Flask has printed our JSON
          return response.text();
          }).then(function (text) {

          console.log('POST response: ');
                // Should be 'OK' if everything was successful
                notify_data("Retrieving Data successful");
                var ret_data = JSON.parse(text);
                console.log(ret_data);
                var first_name = ret_data['first_name']; 
                var last_name = ret_data['last_name']; 
                var Email_data = ret_data['e_mail']; 
                var password_dat = ret_data['password']; 
                var address = ret_data['address'];
                document.getElementById('firstname').value  = first_name; 
                document.getElementById('lastname').value =  last_name; 
                document.getElementById('email').value = Email_data; 
                document.getElementById('password').value = password_dat; 
                document.getElementById('address').value = address; 
         });

    }
    function save_edited_data(){

               console.log("Save edited data");
               var first_name = document.getElementById('firstname').value   
               var last_name = document.getElementById('lastname').value 
               var Email_data =  document.getElementById('email').value 
               var password_dat =  document.getElementById('password').value 
               var address =  document.getElementById('address').value 
               fetch('/save_edited_profile', {
                   // Declare what type of data we're sending
                    headers: { 
                               'Content-Type': 'application/json'
                    },
                  // Specify the method
                  method: 'POST',
                 // A JSON payload
                 body: JSON.stringify({
                    "firstname": first_name,"lastname":last_name,"email":Email_data,"password":password_dat,"address":address 
                 })
               }).then(function (response) { // At this point, Flask has printed our JSON
               return response.text();
              }).then(function (text) {
               console.log('POST response: ');
                     // Should be 'OK' if everything was successful
                console.log(text);

              });
                
    }
      function notify_data(text){
        toastr.options = {
             "closeButton": true,
             "newestOnTop": false,
             "progressBar": true,
             "positionClass": "toast-top-right",
             "preventDuplicates": false,
             "onclick": null,
             "showDuration": "300",
             "hideDuration": "1000",
             "timeOut": "5000",
             "extendedTimeOut": "1000",
             "showEasing": "swing",
             "hideEasing": "linear",
             "showMethod": "fadeIn",
            "hideMethod": "fadeOut"
           }
           toastr.success(text);
          
      }
      //Extract the project name from the settings list to get the 
      //Using the current project data fetch input selection from the 
      function Codegendat(){
         window.location.href = "https://roboreactor.com/CodeGenerator/"+user_encode;
      }
      function dashboardsensor(){
        window.location.href = "https://roboreactor.com/dashboard_profile/"+user_encode;
      }  
      function API_key_auth(){
           window.location.href = "https://roboreactor.com/Api_keys/"+user_encode; 
      }
      function urdf_wizard(){
    
                window.location.href = "https://roboreactor.com/urdf_creator/"+user_encode;      
      }
      function navigation_system(){
                
                window.location.href = "https://roboreactor.com/navigation_systems/"+user_encode;
      }
      function motion_controller_dash(){
                      
                 window.location.href = "https://roboreactor.com/motion_controller/"+user_encode;      
      }
      function manufacturing_account_dash(){
         
                 window.location.href = "https://roboreactor.com/Manufacturing_assist/"+user_encode;  
      }

      function settings_dash(){
                
                 window.location.href = "https://roboreactor.com/settings/"+user_encode;
      }
</script>
<script type="text/javascript">
           //Function reordering of the code node features 
function node_gen_features(data_total){
var main_data_dat = {};
var multi_task_node = {};
var multi_logic = {}; 
var linear_data = {}; 
var name_child_root = []; 
var twin_paring = {}; 
var inverse_paring = {};
var paring_data = {}; 
var root_hashing = {}; 
var find_root = {};
var child_root = []; 
var create_hash = {}; 
console.log(">>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>")
//Generate link node job que data 
//Find the Multinode_logic and extract the function node 
//Extract from the data fetching function 
var rt = 0;
var rs = 0; 
var rm = 0;
var rn = 0;  
var chr = 0; 
var hash = 0; 
var pl = 0; 
var rc = 0; 
var lc = 0; 
var ic = 0; 
var pc =0;
var hash_los =0; 
var inner_hash =0; 
console.log("Extract the data of the value of the multinode logic main data ") 
for(rm >0;rm < data_total.length;rm++){
           
             console.log(data_total[rm]['title'])
             var data_gen = data_total[rm]['title']
             var data_distributer = data_total[rm]['title'].split("======>")[1];
             //data_distributer.shift(); 
             main_data_dat[data_total[rm]['title'].split(" ")[0]] = data_distributer;                    
}
console.log(main_data_dat); // Get the main data of the project category 
//Retrieve the data of the multiple node logic data 
for (rs>0; rs< Object.keys(data_total).length; rs++){
                // Retrieve the multinode logic data 
                //console.log(data_total[Object.keys(data_total)[rs]]['title']) 
                var multinode_extract = data_total[Object.keys(data_total)[rs]]['title'].split(" ")[0]; // Get the multinode extract data 
                console.log(multinode_extract);
                var data_multi_node_match = multinode_extract.split("_") 
                var current_pos = {};  
                current_pos['current_pos_dat'] = data_multi_node_match[data_multi_node_match.length-1]; // Get the current data of the multi node logic
                console.log(current_pos['current_post_dat'])
                console.log("Remove the last element",data_multi_node_match.pop()); //Get the multinode data input  
                console.log(data_multi_node_match.join("_")); //Join the data together and check the multinode data  
                if(data_multi_node_match.join("_") == "Multiple_node_logic"){

                               console.log("Found the multinode logic data",data_multi_node_match.join("_")+"_"+current_pos['current_pos_dat']); // Get the node  combination and get key index data 
                               //Add the value data of the multinode 
                               const value_multinode_logic = data_multi_node_match.join("_")+"_"+current_pos['current_pos_dat']; 
                               const jsonString = main_data_dat[value_multinode_logic]
                                
                               console.log("Multi_node_value ",jsonString.split(",")); // Get the value multinode 
                               var lg =0; 
                               for(lg >0;lg < jsonString.split(",").length; lg++){

                                               console.log("Current element",jsonString.split(",")[lg]); 
                                               //Initial data input 
                                               if(lg == 0){
                                                       const logic_splitter = jsonString.split(",")[lg].split(" {")  
                                                       console.log(logic_splitter[1].split(":"),typeof(logic_splitter)); 
                                                       console.log(logic_splitter[1].split(":")[0],logic_splitter[1].split(":")[1])
                                                       const Initial_num = logic_splitter[1].split(":")[0].trim().replace(/^'|'$/g, '');
                                                       const terminal_num = logic_splitter[1].split(":")[1].trim().replace(/^'|'$/g, '');
                                                       multi_logic[Initial_num] = terminal_num
                                                       //console.log(parseInt(logic_splitter[1].split(":")[0]),parseInt(logic_splitter[1].split(":")[1]))

                                               }
                                               //Middle data input 
                                               if(lg != 0  && lg != jsonString.split(",").length-1){
                                                      console.log(jsonString.split(",")[lg].split(":"));
                                                      const logic_middle = jsonString.split(",")[lg].split(":")
                                                      const Initial_num = logic_middle[0].trim().replace(/^'|'$/g, '');
                                                      const terminal_num = logic_middle[1].trim().replace(/^'|'$/g, '');
                                                      multi_logic[Initial_num] = terminal_num; 
                                               }
                                               //Terminal data input
                                               if(lg == jsonString.split(",").length-1){
                                                     const logic_splitter = jsonString.split(",")[lg].split("}")  
                                                     console.log("Data splitter ",logic_splitter)
                                                     //console.log("data_dat",logic_splitter[0].split(":")) 
                                                     const Initial_num = logic_splitter[0].split(":")[0].trim().replace(/^'|'$/g, '');
                                                     const terminal_num =  logic_splitter[0].split(":")[1].trim().replace(/^'|'$/g, '');
                                                     console.log("The terminal data configuretion",Initial_num,terminal_num)
                                                     multi_logic[Initial_num] = terminal_num 
                                               }
                                               //Create the complete multilogic data 

                               }
                               
                               //multi_logic
                               console.log("Multi_node logic",multi_logic)
                               
                }                                       
}                
for(rt>0; rt <  Object.keys(data_total).length; rt++){
  
    //console.log(rt,Object.keys(data_total)[rt],data_total[Object.keys(data_total)[rt]])     
    var title_data = data_total[Object.keys(data_total)[rt]]['title'].split(" ")[0];                    
    var internal_list = title_data.split("_");
    var data_match_linear = internal_list[internal_list.length-1];
    console.log(title_data,internal_list,data_match_linear); 
    linear_data[data_match_linear] = title_data
} 
for(rt>0; rt<  Object.keys(data_total).length; rt++){
  
    //console.log(rt,Object.keys(data_total)[rt],data_total[Object.keys(data_total)[rt]])     
    var title_data = data_total[Object.keys(data_total)[rt]]['title'].split(" ")[0];                    
    var internal_list = title_data.split("_");
    var data_match_linear = internal_list[internal_list.length-1];
    console.log(title_data,internal_list,data_match_linear); 
    linear_data[data_match_linear] = title_data
} 
console.log(linear_data); 
console.log(multi_logic);
for(rn >0; rn <Object.keys(multi_logic).length; rn++){
  
              console.log(linear_data[Object.keys(multi_logic)[rn]],linear_data[Object.values(multi_logic)[rn]]);
              //twin_paring[linear_data[Object.values(multi_logic)[rn]]] = []; 
              if(Object.keys(twin_paring).includes(linear_data[Object.values(multi_logic)[rn]]) == false){

                    twin_paring[linear_data[Object.values(multi_logic)[rn]]] = [];
                    twin_paring[linear_data[Object.values(multi_logic)[rn]]].push(linear_data[Object.keys(multi_logic)[rn]]);

              } 
              
              if(Object.keys(twin_paring).includes(linear_data[Object.values(multi_logic)[rn]]) == true){
                    if(twin_paring[linear_data[Object.values(multi_logic)[rn]]].includes(linear_data[Object.keys(multi_logic)[rn]]) == false) {                 
                       twin_paring[linear_data[Object.values(multi_logic)[rn]]].push(linear_data[Object.keys(multi_logic)[rn]]);
              
                    } 
              } 
              

}
console.log(">>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>")
console.log("                             Twin paring data                                          ")
console.log(twin_paring); 
console.log(">>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>")
console.log("                            Name child root data                                       ")
//console.log(name_child_root);
//Check the maximum root 
var key_root  = Object.keys(twin_paring); 
var value_root = Object.values(twin_paring); 
for(pl > 0;pl < key_root.length; pl ++){
             
              paring_data[key_root[pl]] = Object.keys(value_root[pl]).length; 
}
console.log(paring_data)
var key_max = Object.keys(paring_data);
var value_max = Object.values(paring_data);
console.log(Math.max(...value_max),key_max[value_max.indexOf(Math.max(...value_max))]); 
create_hash["name"] = key_max[value_max.indexOf(Math.max(...value_max))]   // create the main root hash data 
create_hash["children"] = []; 
for(rc > 0; rc < Object.keys(twin_paring).length; rc++){
                
                console.log(Object.keys(twin_paring)[rc],twin_paring[Object.keys(twin_paring)[rc]]);  
                
                for(lc > 0;lc < twin_paring[Object.keys(twin_paring)[rc]].length;lc++){

                                   console.log("Data inner children",twin_paring[Object.keys(twin_paring)[rc]][lc]);
                                   create_hash["children"].push({"name":twin_paring[Object.keys(twin_paring)[rc]][lc]}); 
                                   console.log(twin_paring[Object.keys(twin_paring)[rc]],typeof(twin_paring[Object.keys(twin_paring)[rc]]));
                                   if(String(typeof(twin_paring[Object.keys(twin_paring)[rc]])) == "object"){
 
                                                   if(twin_paring[Object.keys(twin_paring)[rc]].length == 1){

                                                             if(twin_paring[Object.keys(twin_paring)[rc]][0] != key_max[value_max.indexOf(Math.max(...value_max))]){
                                                                            
                                                                                for(ic > 0; ic < create_hash['children'].length; ic++){

                                                                                            if(create_hash['children'][ic]['name'] == twin_paring[Object.keys(twin_paring)[rc]][lc]){
                                                                                                console.log("Hash extracted",create_hash['children'][ic]['name'],twin_paring[create_hash['children'][ic]['name']])                    
                                                                                                if(twin_paring[create_hash['children'][ic]['name']] != undefined){
                                                                                                                    //create_hash['children'][ic]['children'] = twin_paring[create_hash['children'][ic]['name']];
                                                                                                                    for(pc>0; pc < twin_paring[create_hash['children'][ic]['name']].length;pc++){

                                                                                                                           create_hash['children'][ic]['children'] = {'name':twin_paring[create_hash['children'][ic]['name']][pc]}; 
                                                                                                                    }
                                                                         
                                                                                                }
                                                                                                
                                                                                            }     
                                                                                }
                                                              }
                                                              
                                                   }    
                                                   if(twin_paring[Object.keys(twin_paring)[rc]].length >= 2){
                                              
                                                                     for(ic > 0; ic < create_hash['children'].length; ic++){
                                                                           

                                                                                       console.log("Hash extracted",create_hash['children'][ic]['name'],twin_paring[create_hash['children'][ic]['name']])                    
                                                                                       if(twin_paring[create_hash['children'][ic]['name']] != undefined){
                                                                                        create_hash['children'][ic]['children'] = []; 
                                                                                        for(pc>0; pc < twin_paring[create_hash['children'][ic]['name']].length;pc++){

                                                                                            create_hash['children'][ic]['children'].push({'name':twin_paring[create_hash['children'][ic]['name']][pc]}); 
                                                                                         }
                                          
                                                                                                            
                                                                                       }
                                                                    } 
                                                                                 
                                                    }
                                 }
                } 

               
}
console.log("Check twin data",twin_paring,Object.keys(twin_paring)); 
//Running the loop iteration of the external data 
for(hash_los > 0; hash_los < Object.keys(twin_paring).length;hash_los++){
      
                        console.log(Object.keys(twin_paring)[hash_los]);   
                    
                        if(Object.keys(create_hash).includes(Object.keys(twin_paring)[hash_los]) == false){
                                      
                                      if( twin_paring[key_max[value_max.indexOf(Math.max(...value_max))]].includes(Object.keys(twin_paring)[hash_los]) == false && Object.keys(twin_paring)[hash_los] != key_max[value_max.indexOf(Math.max(...value_max))])  {
                                           
                                                  create_hash["children"].push({"name":Object.keys(twin_paring)[hash_los]});
                                                  //Check if the list indext inside 
                                                  console.log("Check missing index in the list",twin_paring[Object.keys(twin_paring)[hash_los]][0])
                                                  if(twin_paring[Object.keys(twin_paring)[hash_los]][0] != key_max[value_max.indexOf(Math.max(...value_max))]){
                                                                 
                                                                             console.log("Extracking the missing inner children node data") 
                                                                             for(lc>0; lc < twin_paring[Object.keys(twin_paring)[hash_los]].length; lc++){
                                                                                      for(ic > 0; ic < create_hash['children'].length; ic++){
                                                                
                                                                                          console.log("Hash extracted",create_hash['children'][ic]['name'],twin_paring[create_hash['children'][ic]['name']])                    
                                                                                          if(twin_paring[create_hash['children'][ic]['name']] != undefined){
                                                                                            create_hash['children'][ic]['children'] = [];
                                                                                            for(pc>0; pc < twin_paring[create_hash['children'][ic]['name']].length;pc++){

                                                                                                create_hash['children'][ic]['children'].push({'name':twin_paring[create_hash['children'][ic]['name']][pc]}); 
                                                                                             }
                                              
                                                                                                         
                                                                                          }

                                                                                      }   

                                                                             }


                                                  }
                                               
                                      }

                         }     
}

console.log("Create hash",create_hash);
return create_hash
}
</script>

<script type="text/javascript">

     //Call this function to generate the node view tree  
     function project_node_view_tree(pubs){
var diameter = 600;
var margin = {top: 20, right: 60, bottom: 20, left: 60},
    width = diameter,
    height = diameter;
    
var i = 0,
    duration = 350,
    root;

// Adjust the initial position of the root node to shift it to the right
//var rootX = (-width / 10); // Change this value to shift the origin node to the right
var screenWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;
var rootX = screenWidth < 768 ? -width / 4 : 0; // Adjust values as needed
var tree = d3.layout.tree()
    .size([360, diameter / 2 - 80])
    .separation(function(a, b) { return (a.parent == b.parent ? 1 : 10) / a.depth; });

var diagonal = d3.svg.diagonal.radial()
    .projection(function(d) { return [d.y, d.x / 180 * Math.PI]; });
      
var svg = d3.select("#node_project")
    .append("svg")
    .attr("width", width)
    .attr("height", height)
    .append("g")
    .attr("transform", "translate(" + (diameter / 2 + rootX) + "," + diameter / 2 + ")");
      
root = pubs;
root.x0 = height / 2;
root.y0 = 0;
  
//root.children.forEach(collapse); // start with all children collapsed
update(root);

d3.select(self.frameElement).style("height", "600px");  

function update(source) {

  // Compute the new tree layout.
  var nodes = tree.nodes(root),
      links = tree.links(nodes);

  // Normalize for fixed-depth.
  nodes.forEach(function(d) { d.y = d.depth * 80; });

  // Update the nodes…
  var node = svg.selectAll("g.node")
      .data(nodes, function(d) { return d.id || (d.id = ++i); });

  // Enter any new nodes at the parent's previous position.
  var nodeEnter = node.enter().append("g")
      .attr("class", "node")
      //.attr("transform", function(d) { return "rotate(" + (d.x - 90) + ")translate(" + d.y + ")"; })
      .on("click", click);

  nodeEnter.append("circle")
      .attr("r", 1e-6)
      .style("fill", function(d) { return d._children ? "lightsteelblue" : "#fff"; });

  nodeEnter.append("text")
      .attr("x", 10)
      .attr("dy", ".35em")
      .attr("text-anchor", "start")
      //.attr("transform", function(d) { return d.x < 180 ? "translate(0)" : "rotate(180)translate(-" + (d.name.length * 8.5)  + ")"; })
      .text(function(d) { return d.name; })
      .style("fill-opacity", 1e-6);

  // Transition nodes to their new position.
  var nodeUpdate = node.transition()
      .duration(duration)
      .attr("transform", function(d) { return "rotate(" + (d.x - 90) + ")translate(" + d.y + ")"; })

  nodeUpdate.select("circle")
      .attr("r", 4.5)
      .style("fill", function(d) { return d._children ? "lightsteelblue" : "#fff"; });

  nodeUpdate.select("text")
      .style("fill-opacity", 1)
      .attr("transform", function(d) { return d.x < 180 ? "translate(0)" : "rotate(180)translate(-" + (d.name.length + 50)  + ")"; });

  // TODO: appropriate transform
  var nodeExit = node.exit().transition()
      .duration(duration)
      //.attr("transform", function(d) { return "diagonal(" + source.y + "," + source.x + ")"; })
      .remove();

  nodeExit.select("circle")
      .attr("r", 1e-6);

  nodeExit.select("text")
      .style("fill-opacity", 1e-6);

  // Update the links…
  var link = svg.selectAll("path.link")
      .data(links, function(d) { return d.target.id; });

  // Enter any new links at the parent's previous position.
  link.enter().insert("path", "g")
      .attr("class", "link")
      .attr("d", function(d) {
        var o = {x: source.x0, y: source.y0};
        return diagonal({source: o, target: o});
      });

  // Transition links to their new position.
  link.transition()
      .duration(duration)
      .attr("d", diagonal);

  // Transition exiting nodes to the parent's new position.
  link.exit().transition()
      .duration(duration)
      .attr("d", function(d) {
        var o = {x: source.x, y: source.y};
        return diagonal({source: o, target: o});
      })
      .remove();

  // Stash the old positions for transition.
  nodes.forEach(function(d) {
    d.x0 = d.x;
    d.y0 = d.y;
  });
}

// Toggle children on click.
function click(d) {
  if (d.children) {
    d._children = d.children;
    d.children = null;
  } else {
    d.children = d._children;
    d._children = null;
  }
  
  update(d);
}

// Collapse nodes
function collapse(d) {
  if (d.children) {
      d._children = d.children;
      d._children.forEach(collapse);
      d.children = null;
    }
}

}
     
</script>
<!--
<script type="text/javascript">
   //Write the function to use with the project data fetching to send the json into the loop of data fetching 

var pubs =
{
    "name": "AUT-1",
    "children": [
        {
            "name": "PUB-1","children": [
                {"name": "AUT-11","children": [
                    {"name": "AFF-111"},
                    {"name": "AFF-112"}
                ]},
                {"name": "AUT-12","children": [
                    {"name": "AFF-121"}
                ]},
                {"name": "AUT-13","children": [
                    {"name": "AFF-131"},
                    {"name": "AFF-132"}
                ]},
                {"name": "AUT-14","children": [
                    {"name": "AFF-141"}
                ]}
            ]
        },
        {
            "name": "PUB-2","children": [
                {"name": "AUT-21"},
                {"name": "AUT-22"},
                {"name": "AUT-23"},
                {"name": "AUT-24"},
                {"name": "AUT-25"},
                {"name": "AUT-26"},
                {"name": "AUT-27"},
                {"name": "AUT-28","children":[
                    {"name": "AFF-281"},
                    {"name": "AFF-282"},
                    {"name": "AFF-283"},
                    {"name": "AFF-284"},
                    {"name": "AFF-285"},
                    {"name": "AFF-286"}
                ]}
            ]
        },
        {"name": "PUB-3"},
        {
            "name": "PUB-4","children": [
                {"name": "AUT-41"},
                {"name": "AUT-42"},
                {"name": "AUT-43","children": [
                    {"name": "AFF-431"},
                    {"name": "AFF-432"},
                    {"name": "AFF-433"},
                    {"name": "AFF-434","children":[
                        {"name": "ADD-4341"},
                        {"name": "ADD-4342"},
                    ]}
                ]},
                {"name": "AUT-44"}
            ]
        },
        {
            "name": "PUB-5","children": [
                {"name": "AUT-51","children":[
                    {"name": "AFF-511"},
                    {"name": "AFF-512"},
                    {"name": "AFF-513"},
                    {"name": "AFF-514"},
                    {"name": "AFF-515"},
                    {"name": "AFF-516"}
                ]},
                {"name": "AUT-52"},
                {"name": "AUT-53"},
                {"name": "AUT-54"},
                {"name": "AUT-55","children":[
                    {"name": "AFF-551"},
                    {"name": "AFF-552"},
                    {"name": "AFF-553"},
                    {"name": "AFF-554"}
                ]},
                {"name": "AUT-56"},
                {"name": "AUT-57"},
                {"name": "AUT-58"},
                {"name": "AUT-59"},
                {"name": "AUT-591"},
                {"name": "AUT-592"},
                {"name": "AUT-593"},
                {"name": "AUT-594"},
                {"name": "AUT-595"},
                {"name": "AUT-596"}
            ]
        },
        {
            "name": "PUB-6","children": [
              {"name": "AUT-61","children":[
                  {"name": "AFF-611"},
                  {"name": "AFF-612"},
                  {"name": "AFF-613"},
                  {"name": "AFF-614","children":[
                      {"name": "ADD-6141"},
                      {"name": "ADD-6142"},
                  ]}
              ]},
              {"name": "AUT-62"},
              {"name": "AUT-63"},
              {"name": "AUT-64"},
              {"name": "AUT-65"},
              {"name": "AUT-66"},
              {"name": "AUT-67"},
              {"name": "AUT-68"},
              {"name": "AUT-69"}
            ]
        }
    ]
};



var diameter = 600;
var margin = {top: 20, right: 60, bottom: 20, left: 60},
    width = diameter,
    height = diameter;
    
var i = 0,
    duration = 350,
    root;

// Adjust the initial position of the root node to shift it to the right
//var rootX = (-width / 10); // Change this value to shift the origin node to the right
var screenWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;
var rootX = screenWidth < 768 ? -width / 4 : 0; // Adjust values as needed
var tree = d3.layout.tree()
    .size([360, diameter / 2 - 80])
    .separation(function(a, b) { return (a.parent == b.parent ? 1 : 10) / a.depth; });

var diagonal = d3.svg.diagonal.radial()
    .projection(function(d) { return [d.y, d.x / 180 * Math.PI]; });
   
var svg = d3.select("#node_project")
    .append("svg")
    .attr("width", width)
    .attr("height", height)
    .append("g")
    .attr("transform", "translate(" + (diameter / 2 + rootX) + "," + diameter / 2 + ")");

root = pubs;
root.x0 = height / 2;
root.y0 = 0;

//root.children.forEach(collapse); // start with all children collapsed
update(root);

d3.select(self.frameElement).style("height", "600px");  

function update(source) {

  // Compute the new tree layout.
  var nodes = tree.nodes(root),
      links = tree.links(nodes);

  // Normalize for fixed-depth.
  nodes.forEach(function(d) { d.y = d.depth * 80; });

  // Update the nodes…
  var node = svg.selectAll("g.node")
      .data(nodes, function(d) { return d.id || (d.id = ++i); });

  // Enter any new nodes at the parent's previous position.
  var nodeEnter = node.enter().append("g")
      .attr("class", "node")
      //.attr("transform", function(d) { return "rotate(" + (d.x - 90) + ")translate(" + d.y + ")"; })
      .on("click", click);

  nodeEnter.append("circle")
      .attr("r", 1e-6)
      .style("fill", function(d) { return d._children ? "lightsteelblue" : "#fff"; });

  nodeEnter.append("text")
      .attr("x", 10)
      .attr("dy", ".35em")
      .attr("text-anchor", "start")
      //.attr("transform", function(d) { return d.x < 180 ? "translate(0)" : "rotate(180)translate(-" + (d.name.length * 8.5)  + ")"; })
      .text(function(d) { return d.name; })
      .style("fill-opacity", 1e-6);

  // Transition nodes to their new position.
  var nodeUpdate = node.transition()
      .duration(duration)
      .attr("transform", function(d) { return "rotate(" + (d.x - 90) + ")translate(" + d.y + ")"; })

  nodeUpdate.select("circle")
      .attr("r", 4.5)
      .style("fill", function(d) { return d._children ? "lightsteelblue" : "#fff"; });

  nodeUpdate.select("text")
      .style("fill-opacity", 1)
      .attr("transform", function(d) { return d.x < 180 ? "translate(0)" : "rotate(180)translate(-" + (d.name.length + 50)  + ")"; });

  // TODO: appropriate transform
  var nodeExit = node.exit().transition()
      .duration(duration)
      //.attr("transform", function(d) { return "diagonal(" + source.y + "," + source.x + ")"; })
      .remove();

  nodeExit.select("circle")
      .attr("r", 1e-6);

  nodeExit.select("text")
      .style("fill-opacity", 1e-6);

  // Update the links…
  var link = svg.selectAll("path.link")
      .data(links, function(d) { return d.target.id; });

  // Enter any new links at the parent's previous position.
  link.enter().insert("path", "g")
      .attr("class", "link")
      .attr("d", function(d) {
        var o = {x: source.x0, y: source.y0};
        return diagonal({source: o, target: o});
      });

  // Transition links to their new position.
  link.transition()
      .duration(duration)
      .attr("d", diagonal);

  // Transition exiting nodes to the parent's new position.
  link.exit().transition()
      .duration(duration)
      .attr("d", function(d) {
        var o = {x: source.x, y: source.y};
        return diagonal({source: o, target: o});
      })
      .remove();

  // Stash the old positions for transition.
  nodes.forEach(function(d) {
    d.x0 = d.x;
    d.y0 = d.y;
  });
}

// Toggle children on click.
function click(d) {
  if (d.children) {
    d._children = d.children;
    d.children = null;
  } else {
    d.children = d._children;
    d._children = null;
  }
  
  update(d);
}

// Collapse nodes
function collapse(d) {
  if (d.children) {
      d._children = d.children;
      d._children.forEach(collapse);
      d.children = null;
    }
}
</script>-->

<script>
 document.getElementById("imageUpload").addEventListener("change", function() {
        var file = this.files[0];
        var formData = new FormData();
        var accountdata = document.getElementById('datauser').value;
        console.log("File name: ", file);
        console.log("Current Account: ",accountdata);  
        formData.append("file", file);
        formData.append("email",accountdata); 
        // AJAX request to upload the image
        var xhr = new XMLHttpRequest();
        xhr.open("POST", "/upload_image", true);
        xhr.onload = function() {
            if (xhr.status === 200) {
                // Image upload successful
                var response = JSON.parse(xhr.responseText);
                console.log("Output response file upload",response.url);
                document.getElementById("imagePreview").style.backgroundImage = "url('" + response.url + "')";
            }
        };
        xhr.send(formData);
        function delayedFunction() {
          console.log("This message is displayed after a 2-second delay.");
          var user_encode = document.getElementById('encoded_arg').value; 
          window.location.href = "https://roboreactor.com/settings/"+user_encode;
        }

        // Set a timer to delay the function execution by 2000 milliseconds (2 seconds)
        setTimeout(delayedFunction, 3000);
        //var user_encode = document.getElementById('encoded_arg').value; 
        //window.location.href = "https://roboreactor.com/settings/"+user_encode;
    });
  
</script>
<script type="text/javascript">
  function myFunction() {
       var x = document.getElementById("password");
       if (x.type === "password") {
                  x.type = "text";
                  } else {
                  x.type = "password";
        }
  }
</script>
</body>
</html>
